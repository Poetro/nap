<!doctype html>
<html>
<head>
  <meta charset="utf-8">
  <script type="text/javascript" src="tabs.js"></script>
  <script type="text/javascript" src="nap.js"></script>
  <script type="text/javascript" src="d3.js"></script>
  
  <script type="text/javascript">
    function init(){
      
      function bar(req){
        console.log("called", req.uri, req.params)
      }

      function foo(req){
        console.log("called", req.uri, req.params)
      }

      function speak(req){
        console.log("called", req.uri, req.params)
        var s = d3.select(this)
        s.select("span").text(req.params.name)
      }

      var web = nap.web()
        .resource("/foo/bar", bar)
        .resource("/foo/:thing/wibble", foo)
        .resource("/speak/:name", speak)

      web.req("/foo/bar")
      web.req("/foo/chips/wibble")

      d3.select(".message")
        .data(["/speak/sammy"])
        .select(web.req)

      
    }
  </script>
  <title>Basic</title>
</head>
<body onload="init()">
  <div class="message">
    <span></span>
  </div>
</body>
</html>